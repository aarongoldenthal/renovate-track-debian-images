{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:base", "docker:enableMajor"],
  "ignorePresets": [":dependencyDashboard", ":prHourlyLimit2"],
  "docker": {
    "packageRules": [
      {
        "description": "Override versioning to manage image tags with OS versions",
        "matchPackageNames": ["docker", "python"],
        "versioning": "regex:^(?<compatibility>\\d+\\.\\d+\\.\\d+-alpine)(?<major>\\d+)\\.(?<minor>\\d+)(?:\\.(?<patch>\\d+))?$"
      },
      {
        "description": "Add back default docker versioning",
        "matchPackageNames": ["docker", "python"],
        "versioning": "docker"
      }
    ],
    "pinDigests": false
  },
  "labels": ["Dependencies"],
  "timezone": "America/Chicago"
}
